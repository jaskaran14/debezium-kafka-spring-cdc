# Spring Datasource
# This configures the application to connect to the PostgreSQL container
spring.datasource.url=jdbc:postgresql://localhost:5432/postgres
spring.datasource.username=postgres
spring.datasource.password=postgres
spring.jpa.hibernate.ddl-auto=update

# Kafka Broker connection
# This should point to the advertised listener you exposed in docker-compose.yml
spring.kafka.bootstrap-servers=localhost:29092

# Kafka Consumer Properties
spring.kafka.consumer.group-id=event-processor-group
spring.kafka.consumer.auto-offset-reset=earliest
spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer

# Performance Tuning: Enable batch listening and concurrency
spring.kafka.listener.type=batch
# The number of consumer threads to run. This should not exceed the number of partitions in the topic.
spring.kafka.listener.concurrency=3
# The maximum number of records to fetch in a single poll. Tune this based on message size and processing time.
spring.kafka.consumer.max-poll-records=500

# This tells Spring Boot to initialize all beans lazily.
spring.main.lazy-initialization=true
